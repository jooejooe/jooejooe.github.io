<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.121.2"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16.icon><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32.icon><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="几种常见的消息中间件对比"><meta itemprop=description content="记录轨迹。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=keywords content="RabbitMQ,RocketMQ,ActiveMQ,Kafka,消息中间件"><meta property="og:type" content="article"><meta property="og:title" content="几种常见的消息中间件对比"><meta property="og:description" content="记录轨迹。"><meta property="og:image" content="/imgs/hugo_next_avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/post/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94/"><meta property="og:site_name" content="松果小站"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="松果小站"><meta property="article:published_time" content="2020-04-15 11:30:00 +0000 UTC"><meta property="article:modified_time" content="2020-04-15 11:30:00 +0000 UTC"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.e83ed60f44a866830eb8ff84b9b1ceb1b585dff20463c785c1f71ea16bf54e9c.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94","permalink":"/post/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94/","title":"几种常见的消息中间件对比","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>几种常见的消息中间件对比 - 松果小站</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>松果小站</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>松果小站博客</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-categories"><a href=/categories/ class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>分类</a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>标签</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>142</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#消息队列概述>消息队列概述</a></li><li><a href=#rabbitmq>RabbitMQ</a><ul><li><a href=#主要特性>主要特性</a></li><li><a href=#优点>优点</a></li><li><a href=#缺点>缺点</a></li></ul></li><li><a href=#rocketmq>RocketMQ</a><ul><li><a href=#主要特性-1>主要特性</a></li><li><a href=#优点-1>优点</a></li><li><a href=#缺点-1>缺点</a></li></ul></li><li><a href=#activemq>ActiveMQ</a><ul><li><a href=#主要特性-2>主要特性</a></li><li><a href=#优点-2>优点</a></li><li><a href=#缺点-2>缺点</a></li></ul></li><li><a href=#kafka>Kafka</a><ul><li><a href=#主要特性-3>主要特性</a></li><li><a href=#优点-3>优点</a></li><li><a href=#缺点-3>缺点</a></li></ul></li></ul><ul><li><a href=#从公司基础建设力量角度>从公司基础建设力量角度</a></li><li><a href=#从业务场景角度出发>从业务场景角度出发</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=松果小站 src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>松果小站</p><div class=site-description itemprop=description>记录轨迹。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>142</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>35</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>112</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/jooejooe title="Github → https://github.com/jooejooe" rel=noopener target=_blank>Github</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li><li class=links-of-blogroll-item><a href=https://lisenhui.cn title=https://lisenhui.cn target=_blank>凡梦星尘空间站1</a></li></ul></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/jooejooe rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script><script type=text/javascript>((window.gitter={}).chat={}).options={room:"hugo-next/community"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/post/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="松果小站"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="松果小站"><meta itemprop=description content="记录轨迹。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="几种常见的消息中间件对比"><meta itemprop=description content="常见消息中间件介绍

当前使用较多的消息队列有RabbitMQ、RocketMQ、ActiveMQ、Kafka、ZeroMQ、MetaMQ等，而部分数据库如Redis、MySQL以及phxsql也可实现消息队列的功能。"></span><header class=post-header><h1 class=post-title itemprop="name headline">几种常见的消息中间件对比
<a href=https://github.com/jooejooe/jooejooe.github.io/tree/master/post/post/%e5%bc%80%e5%8f%91%e6%8a%80%e6%9c%af/%e5%87%a0%e7%a7%8d%e5%b8%b8%e8%a7%81%e7%9a%84%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e4%bb%b6%e5%af%b9%e6%af%94.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2020-04-15 11:30:00 +0000 UTC" itemprop="dateCreated datePublished" datetime="2020-04-15 11:30:00 +0000 UTC">2020-04-15
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6 itemprop=url rel=index><span itemprop=name>消息中间件</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>4341</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>9分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/post/%E5%BC%80%E5%8F%91%E6%8A%80%E6%9C%AF/%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AF%B9%E6%AF%94/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><h1 id=常见消息中间件介绍>常见消息中间件介绍
<a class=header-anchor href=#%e5%b8%b8%e8%a7%81%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e4%bb%b6%e4%bb%8b%e7%bb%8d></a></h1><p>当前使用较多的消息队列有RabbitMQ、RocketMQ、ActiveMQ、Kafka、ZeroMQ、MetaMQ等，而部分数据库如Redis、MySQL以及phxsql也可实现消息队列的功能。</p><h2 id=消息队列概述>消息队列概述
<a class=header-anchor href=#%e6%b6%88%e6%81%af%e9%98%9f%e5%88%97%e6%a6%82%e8%bf%b0></a></h2><p>消息队列是指利用高效可靠的消息传递机制进行与平台无关的数据交流，并基于数据通信来进行分布式系统的集成。</p><h2 id=rabbitmq>RabbitMQ
<a class=header-anchor href=#rabbitmq></a></h2><p>RabbitMQ于2007年发布，是一个在AMQP(高级消息队列协议)基础上完成的，可复用的企业消息系统，是当前最主流的消息中间件之一。</p><h3 id=主要特性>主要特性
<a class=header-anchor href=#%e4%b8%bb%e8%a6%81%e7%89%b9%e6%80%a7></a></h3><ol><li>可靠性：提供了多种技术可以让你在性能和可靠性之间进行权衡。这些技术包括持久性机制、投递确认、发布者证实和高可用性机制；</li><li>灵活的路由：消息在到达队列前是通过交换机进行路由的。RabbitMQ为典型的路由逻辑提供了多种内置交换机类型。如果你有更复杂的路由需求，可以将这些交换机组合起来使用，你甚至可以实现自己的交换机类型，并且当做RabbitMQ的插件来使用；</li><li>消息集群：在相同局域网中的多个RabbitMQ服务器可以聚合在一起，作为一个独立的逻辑代理来使用；</li><li>队列高可用：队列可以在集群中的机器上进行镜像，以确保在硬件问题下还保证消息安全；</li><li>支持多种协议：支持多种消息队列协议；</li><li>支持多种语言：用Erlang语言编写，支持只要是你能想到的所有编程语言；</li><li>管理界面：RabbitMQ有一个易用的用户界面，使得用户可以监控和管理消息Broker的许多方面；</li><li>跟踪机制：如果消息异常，RabbitMQ 提供消息跟踪机制，使用者可以找出发生了什么；</li><li>插件机制：提供了许多插件，来从多方面进行扩展，也可以编写自己的插件。</li></ol><h3 id=优点>优点
<a class=header-anchor href=#%e4%bc%98%e7%82%b9></a></h3><ol><li>由于Erlang语言的特性，消息队列性能较好，支持高并发；</li><li>健壮、稳定、易用、跨平台、支持多种语言、文档齐全；</li><li>有消息确认机制和持久化机制，可靠性高；</li><li>高度可定制的路由；</li><li>管理界面较丰富，在互联网公司也有较大规模的应用，社区活跃度高。</li></ol><h3 id=缺点>缺点
<a class=header-anchor href=#%e7%bc%ba%e7%82%b9></a></h3><ol><li>尽管结合 Erlang 语言本身的并发优势，性能较好，但是不利于做二次开发和维护；</li><li>实现了代理架构，意味着消息在发送到客户端之前可以在中央节点上排队。此特性使得RabbitMQ易于使用和部署，但是使得其运行速度较慢，因为中央节点 增加了延迟，消息封装后也比较大；需要学习比较复杂的接口和协议，学习和维护成本较高。</li></ol><h2 id=rocketmq>RocketMQ
<a class=header-anchor href=#rocketmq></a></h2><p>RocketMQ出自阿里的开源产品，用Java语言实现，在设计时参考了Kafka，并做出了自己的一些改进，消息可靠性上比Kafka更好。RocketMQ在阿里内部被广泛应用在订单，交易，充值，流计算，消息推送，日志流式处理，binglog分发等场景。</p><h3 id=主要特性-1>主要特性
<a class=header-anchor href=#%e4%b8%bb%e8%a6%81%e7%89%b9%e6%80%a7-1></a></h3><ol><li>基于 队列模型：具有高性能、高可靠、高实时、分布式等特点；</li><li>Producer、Consumer、队列都支持分布式；</li><li>Producer向一些队列轮流发送消息，队列集合称为Topic。Consumer如果做广播消费，则一个Consumer实例消费这个Topic对应的所有队列；如果做集群消费，则多个Consumer 实例平均消费这个Topic对应的队列集合；</li><li>能够保证严格的消息顺序；</li><li>提供丰富的消息拉取模式；</li><li>高效的订阅者水平扩展能力；</li><li>实时的消息订阅机制；</li><li>亿级消息堆积 能力；</li><li>较少的外部依赖。</li></ol><h3 id=优点-1>优点
<a class=header-anchor href=#%e4%bc%98%e7%82%b9-1></a></h3><ol><li>单机支持1万以上持久化队列；</li><li>RocketMQ的所有消息都是持久化的，先写入系统PAGECACHE，然后刷盘，可以保证内存与磁盘都有一份数据，而访问时，直接从内存读取。</li><li>模型简单，接口易用（JMS的接口很多场合并不太实用）；</li><li>性能非常好，可以允许大量堆积消息在Broker中；</li><li>支持多种消费模式，包括集群消费、广播消费等；</li><li>各个环节分布式扩展设计，支持主从和高可用；</li><li>开发度较活跃，版本更新很快。</li></ol><h3 id=缺点-1>缺点
<a class=header-anchor href=#%e7%bc%ba%e7%82%b9-1></a></h3><ol><li>支持的 客户端语言不多，目前是Java及C++，其中C++还不成熟；</li><li>RocketMQ社区关注度及成熟度也不及前两者；</li><li>没有Web管理界面，提供了一个 CLI (命令行界面) 管理工具带来查询、管理和诊断各种问题；</li><li>没有在MQ核心里实现JMS等接口；</li></ol><h2 id=activemq>ActiveMQ
<a class=header-anchor href=#activemq></a></h2><p>ActiveMQ是由Apache出品，ActiveMQ是一个完全支持JMS1.1和J2EE 1.4规范的JMS Provider实现。它非常快速，支持多种语言的客户端和协议，而且可以非常容易的嵌入到企业的应用环境中，并有许多高级功能。</p><h3 id=主要特性-2>主要特性
<a class=header-anchor href=#%e4%b8%bb%e8%a6%81%e7%89%b9%e6%80%a7-2></a></h3><ol><li>服从JMS规范：JMS 规范提供了良好的标准和保证，包括：同步 或 异步 的消息分发，一次和仅一次的消息分发，消息接收和订阅等等。遵从JMS规范的好处在于，不论使用什么JMS实现提供者，这些基础特性都是可用的；</li><li>连接灵活性：ActiveMQ提供了广泛的连接协议，支持的协议有：HTTP/S，IP多播，SSL，TCP，UDP等等。对众多协议的支持让ActiveMQ拥有了很好的灵活性；</li><li>支持的协议种类多：OpenWire、STOMP、REST、XMPP、AMQP；</li><li>持久化插件和安全插件：ActiveMQ提供了多种持久化选择。而且，ActiveMQ的安全性也可以完全依据用户需求进行自定义鉴权和授权；</li><li>支持的客户端语言种类多：除了Java之外，还有：C/C++，.NET，Perl，PHP，Python，Ruby；</li><li>代理集群：多个ActiveMQ代理可以组成一个集群来提供服务；</li><li>异常简单的管理：ActiveMQ是以开发者思维被设计的。所以，它并不需要专门的管理员，因为它提供了简单又使用的管理特性。有很多中方法可以监控ActiveMQ不同层面的数据，包括使用在JConsole或者在ActiveMQ的WebConsole中使用JMX。通过处理JMX的告警消息，通过使用命令行脚本，甚至可以通过监控各种类型的日志。</li></ol><h3 id=优点-2>优点
<a class=header-anchor href=#%e4%bc%98%e7%82%b9-2></a></h3><ol><li>跨平台(JAVA编写与平台无关，ActiveMQ几乎可以运行在任何的JVM上)；</li><li>可以用JDBC：可以将数据持久化到数据库。虽然使用JDBC会降低ActiveMQ的性能，但是数据库一直都是开发人员最熟悉的存储介质；</li><li>支持JMS规范：支持JMS规范提供的统一接口;</li><li>支持自动重连和错误重试机制；</li><li>有安全机制：支持基于shiro，jaas等多种安全配置机制，可以对Queue/Topic进行认证和授权；</li><li>监控完善：拥有完善的监控，包括WebConsole，JMX，Shell命令行，Jolokia的RESTful API；</li><li>界面友善：提供的WebConsole可以满足大部分情况，还有很多第三方的组件可以使用，比如hawtio；</li></ol><h3 id=缺点-2>缺点
<a class=header-anchor href=#%e7%bc%ba%e7%82%b9-2></a></h3><ol><li>社区活跃度不及RabbitMQ高；</li><li>根据其他用户反馈，会出莫名其妙的问题，会丢失消息；</li><li>目前重心放到activemq6.0产品Apollo，对5.x的维护较少；</li><li>不适合用于上千个队列的应用场景；</li></ol><h2 id=kafka>Kafka
<a class=header-anchor href=#kafka></a></h2><p>Apache Kafka是一个分布式消息发布订阅系统。它最初由LinkedIn公司基于独特的设计实现为一个分布式的日志提交系统(a distributed commit log)，之后成为Apache项目的一部分。Kafka性能高效、可扩展良好并且可持久化。它的分区特性，可复制和可容错都是其不错的特性。</p><h3 id=主要特性-3>主要特性
<a class=header-anchor href=#%e4%b8%bb%e8%a6%81%e7%89%b9%e6%80%a7-3></a></h3><ol><li>快速持久化：可以在O(1)的系统开销下进行消息持久化；</li><li>高吞吐：在一台普通的服务器上既可以达到10W/s的吞吐速率；</li><li>完全的分布式系统：Broker、Producer和Consumer都原生自动支持分布式，自动实现负载均衡；</li><li>支持同步和异步复制两种高可用机制；</li><li>支持数据批量发送和拉取；</li><li>零拷贝技术(zero-copy)：减少IO操作步骤，提高系统吞吐量；</li><li>数据迁移、扩容对用户透明；</li><li>无需停机即可扩展机器；</li><li>其他特性：丰富的消息拉取模型、高效订阅者水平扩展、实时的消息订阅、亿级的消息堆积能力、定期删除机制；</li></ol><h3 id=优点-3>优点
<a class=header-anchor href=#%e4%bc%98%e7%82%b9-3></a></h3><ol><li>客户端语言丰富：支持Java、.Net、PHP、Ruby、Python、Go等多种语言；</li><li>高性能：单机写入TPS约在100万条/秒，消息大小10个字节；</li><li>提供完全分布式架构，并有replica机制，拥有较高的可用性和可靠性，理论上支持消息无限堆积；</li><li>支持批量操作；</li><li>消费者采用Pull方式获取消息。消息有序，通过控制能够保证所有消息被消费且仅被消费一次；</li><li>有优秀的第三方KafkaWeb管理界面Kafka-Manager；</li><li>在日志领域比较成熟，被多家公司和多个开源项目使用。</li></ol><h3 id=缺点-3>缺点
<a class=header-anchor href=#%e7%bc%ba%e7%82%b9-3></a></h3><ol><li>Kafka单机超过64个队列/分区时，Load时会发生明显的飙高现象。队列越多，负载越高，发送消息响应时间变长；</li><li>使用短轮询方式，实时性取决于轮询间隔时间；</li><li>消费失败不支持重试；</li><li>支持消息顺序，但是一台代理宕机后，就会产生消息乱序；</li><li>社区更新较慢。</li></ol><h1 id=常见消息中间就对比分析图>常见消息中间就对比分析图
<a class=header-anchor href=#%e5%b8%b8%e8%a7%81%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e5%b0%b1%e5%af%b9%e6%af%94%e5%88%86%e6%9e%90%e5%9b%be></a></h1><p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.jsdelivr.net/gh/jooejooe/images/image/30dda6833f20181b27f3a08ba34f4db881d.jpg alt=img></p><h1 id=适用场景>适用场景
<a class=header-anchor href=#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af></a></h1><h2 id=从公司基础建设力量角度>从公司基础建设力量角度
<a class=header-anchor href=#%e4%bb%8e%e5%85%ac%e5%8f%b8%e5%9f%ba%e7%a1%80%e5%bb%ba%e8%ae%be%e5%8a%9b%e9%87%8f%e8%a7%92%e5%ba%a6></a></h2><ol><li>中小型软件公司，建议选RabbitMQ，一方面，erlang语言天生具备高并发的特性，而且他的管理界面用起来十分方便。他的弊端也在这里，虽然RabbitMQ是开源的，然而国内有几个能定制化开发erlang的程序员呢？所幸，RabbitMQ的社区十分活跃，可以解决开发过程中遇到的bug，这点对于中小型公司来说十分重要。不考虑RocketMQ和kafka的原因是，一方面中小型软件公司不如互联网公司，数据量没那么大，选消息中间件，应首选功能比较完备的，所以kafka排除。不考虑RocketMQ的原因是，RocketMQ是阿里出品，如果阿里放弃维护RocketMQ，中小型公司一般抽不出人来进行RocketMQ的定制化开发，因此不推荐。</li><li>大型软件公司，根据具体使用在RocketMQ和kafka之间二选一。一方面，大型软件公司，具备足够的资金搭建分布式环境，也具备足够大的数据量。针对RocketMQ,大型软件公司也可以抽出人手对RocketMQ进行定制化开发，毕竟国内有能力改JAVA源码的人，还是相当多的。至于kafka，根据业务场景选择，如果有日志采集功能，肯定是首选kafka了。</li></ol><h2 id=从业务场景角度出发>从业务场景角度出发
<a class=header-anchor href=#%e4%bb%8e%e4%b8%9a%e5%8a%a1%e5%9c%ba%e6%99%af%e8%a7%92%e5%ba%a6%e5%87%ba%e5%8f%91></a></h2><ol><li>RocketMQ定位于非日志的可靠消息传输（日志场景也OK），目前RocketMQ在阿里集团被广泛应用在订单，交易，充值，流计算，消息推送，日志流式处理，binglog分发等场景。</li><li>Kafka是LinkedIn开源的分布式发布-订阅消息系统，目前归属于Apache定级项目。Kafka主要特点是基于Pull的模式来处理消息消费，追求高吞吐量，一开始的目的就是用于日志收集和传输。0.8版本开始支持复制，不支持事务，对消息的重复、丢失、错误没有严格要求，适合产生大量数据的互联网服务的数据收集业务。</li><li>RabbitMQ是使用Erlang语言开发的开源消息队列系统，基于AMQP协议来实现。AMQP的主要特征是面向消息、队列、路由（包括点对点和发布/订阅）、可靠性、安全。AMQP协议更多用在企业系统内，对数据一致性、稳定性和可靠性要求很高的场景，对性能和吞吐量的要求还在其次。</li></ol></div><footer class=post-footer><div class=post-tags><a href=/tags/rabbitmq>RabbitMQ
</a><a href=/tags/rocketmq>RocketMQ
</a><a href=/tags/activemq>ActiveMQ
</a><a href=/tags/kafka>Kafka
</a><a href=/tags/%e6%b6%88%e6%81%af%e4%b8%ad%e9%97%b4%e4%bb%b6>消息中间件</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/elasticsearch%E4%B8%AD%E8%8B%B1%E6%96%87%E6%B7%B7%E6%90%9C/ rel=next title=elasticsearch中英文混搜><i class="fa fa-chevron-left"></i> elasticsearch中英文混搜</a></div><div class="post-nav-prev post-nav-item"><a href=/post/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2-elasticsearch%E7%88%B6%E5%AD%90%E6%96%87%E6%A1%A3/ rel=prev title=elasticsearch中父子关系文档>elasticsearch中父子关系文档
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2020 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>松果小站</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.121.2 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o \n\n可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄\n(Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.0fb3547374c917d23a2e5f762b70f3698d20b46a01cc18c38f9c467aeffc99fc.js defer></script></body></html>